---
title: "R Notebook"
output: html_notebook
---
#Indian Treaty Corpus Creation
This notebook details the process that I used to create my corpus of Indian treaties. Before I ran any of the code below, I used Wget to scrape the treaties from online (http://digital.library.okstate.edu/kappler/Vol2/Toc.htm). 

```{r}
library(rvest)
library(magrittr)
```
I then loaded the package rvest in order to parse the htm documents created using Wget.
```{r}
test_treaty <- read_html("C:/Users/Joshua/Documents/wget_treaties/digital.library.okstate.edu/kappler/Vol2/treaties/apa0598.htm")

 
```

```{r}
title <- test_treaty %>%
  html_nodes("h4 center") %>%
  html_text()

title <- title[c(1)] 



title <-title[c(1)]%>% 
  
  title <- test_treaty %>%
  html_nodes("h4 center") %>%
  html_text()}

title <- title[c(1)]} 

title

treaty_descpription <- test_treaty %>%
  html_nodes("p i") %>%
  html_text()

treaty_descpription

body <- test_treaty %>%
  html_nodes("body p") %>%
  html_text()

body


```

```{r}
parser <- function(file) {
  title <- test_treaty %>%
  html_nodes("h4 center") %>%
  html_text()

treaty_descpription <- test_treaty %>%
  html_nodes("p i") %>%
  html_text()


body <- test_treaty %>%
  html_nodes("body p") %>%
  html_text()
  
  data_frame(file = file, title = title[c(1)], body = body, description = treaty_descpription)
}
```


